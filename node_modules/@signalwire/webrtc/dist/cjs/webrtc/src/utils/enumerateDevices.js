"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.enumerateDevicesByKind = exports.enumerateDevices = void 0;
const tslib_1 = require("tslib");
const primitives_1 = require("./primitives");
/**
 * Enumerates the media input and output devices available on this device.
 *
 * > ðŸ“˜
 * > Depending on the browser, some information (such as the `label` and
 * > `deviceId` attributes) could be hidden until permission is granted, for
 * > example by calling {@link getUserMedia}.
 *
 * @example
 * ```typescript
 * await SignalWire.WebRTC.enumerateDevices()
 * // [
 * //   {
 * //     "deviceId": "Rug5Bk...4TMhY=",
 * //     "kind": "videoinput",
 * //     "label": "HD FaceTime Camera",
 * //     "groupId": "EEX/N2...AjrOs="
 * //   },
 * //   ...
 * // ]
 * ```
 */
const enumerateDevices = () => {
    return (0, primitives_1.getMediaDevicesApi)().enumerateDevices();
};
exports.enumerateDevices = enumerateDevices;
const enumerateDevicesByKind = (filterByKind) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
    let devices = yield (0, exports.enumerateDevices)().catch((_error) => []);
    if (filterByKind) {
        devices = devices.filter(({ kind }) => kind === filterByKind);
    }
    return devices;
});
exports.enumerateDevicesByKind = enumerateDevicesByKind;
//# sourceMappingURL=enumerateDevices.js.map