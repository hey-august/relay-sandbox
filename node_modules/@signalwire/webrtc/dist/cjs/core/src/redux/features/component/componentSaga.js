"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.componentCleanupSaga = exports.componentCleanupSagaWorker = void 0;
const effects_1 = require("@redux-saga/core/effects");
const __1 = require("..");
const componentSelectors_1 = require("./componentSelectors");
function* componentCleanupSagaWorker() {
    const toCleanup = yield (0, effects_1.select)(componentSelectors_1.getComponentsToCleanup);
    if (toCleanup.length) {
        yield (0, effects_1.put)(__1.componentActions.cleanup({
            ids: toCleanup,
        }));
    }
}
exports.componentCleanupSagaWorker = componentCleanupSagaWorker;
function* componentCleanupSaga() {
    while (true) {
        yield (0, effects_1.delay)(3600000); // 1 hour
        yield (0, effects_1.fork)(componentCleanupSagaWorker);
    }
}
exports.componentCleanupSaga = componentCleanupSaga;
//# sourceMappingURL=componentSaga.js.map