"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createAction = void 0;
function createAction(type, prepareAction) {
    function actionCreator(...args) {
        if (prepareAction) {
            let prepared = prepareAction(...args);
            if (!prepared) {
                throw new Error('prepareAction did not return an object');
            }
            return Object.assign(Object.assign({ type, payload: prepared.payload }, ('meta' in prepared && { meta: prepared.meta })), ('error' in prepared && { error: prepared.error }));
        }
        return { type, payload: args[0] };
    }
    actionCreator.toString = () => `${type}`;
    actionCreator.type = type;
    actionCreator.match = (action) => action.type === type;
    return actionCreator;
}
exports.createAction = createAction;
//# sourceMappingURL=createAction.js.map