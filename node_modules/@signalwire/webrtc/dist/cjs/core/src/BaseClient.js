"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BaseClient = void 0;
const redux_1 = require("./redux");
const BaseComponent_1 = require("./BaseComponent");
const sessionSelectors_1 = require("./redux/features/session/sessionSelectors");
class BaseClient extends BaseComponent_1.BaseComponent {
    constructor(options) {
        super(options);
        this.options = options;
    }
    /**
     * Connect the underlay WebSocket connection to the SignalWire network.
     *
     * @returns Promise that will resolve with the Client object.
     */
    connect() {
        const authStatus = (0, sessionSelectors_1.getAuthStatus)(this.store.getState());
        if (authStatus === 'unknown' || authStatus === 'unauthorized') {
            this.store.dispatch((0, redux_1.initAction)());
        }
        return this._waitUntilSessionAuthorized();
    }
    /**
     * Disconnect the Client from the SignalWire network.
     */
    disconnect() {
        this.store.dispatch((0, redux_1.destroyAction)());
    }
}
exports.BaseClient = BaseClient;
//# sourceMappingURL=BaseClient.js.map