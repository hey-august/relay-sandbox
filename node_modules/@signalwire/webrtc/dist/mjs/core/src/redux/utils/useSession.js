import { getLogger } from '../../utils';
import { getEventEmitter } from '../../utils/EventEmitter';
export const useSession = (options) => {
    const { SessionConstructor, userOptions, sessionChannel } = options;
    const sessionEmitter = getEventEmitter();
    let session = null;
    const initSession = () => {
        session = new SessionConstructor(Object.assign(Object.assign({}, userOptions), { sessionChannel }));
        return session;
    };
    const getSession = () => {
        if (!session) {
            getLogger().warn('Custom worker started without the session');
        }
        return session;
    };
    return { session, initSession, getSession, sessionEmitter };
};
//# sourceMappingURL=useSession.js.map