// @ts-nocheck
import { mutateStorageKey, safeParseJson } from '../';
const _inNode = () => typeof window === 'undefined' && typeof process !== 'undefined';
const _get = async (storageType, key) => {
    if (_inNode())
        return null;
    const res = window[storageType].getItem(mutateStorageKey(key));
    return safeParseJson(res);
};
const _set = async (storageType, key, value) => {
    if (_inNode())
        return null;
    if (typeof value === 'object') {
        value = JSON.stringify(value);
    }
    window[storageType].setItem(mutateStorageKey(key), value);
};
const _remove = async (storageType, key) => {
    if (_inNode())
        return null;
    return window[storageType].removeItem(mutateStorageKey(key));
};
export const localStorage = {
    getItem: (key) => _get('localStorage', key),
    setItem: (key, value) => _set('localStorage', key, value),
    removeItem: (key) => _remove('localStorage', key),
};
export const sessionStorage = {
    getItem: (key) => _get('sessionStorage', key),
    setItem: (key, value) => _set('sessionStorage', key, value),
    removeItem: (key) => _remove('sessionStorage', key),
};
//# sourceMappingURL=index.js.map